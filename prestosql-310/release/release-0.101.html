
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>12.137. Release 0.101 &#8212; Presto 310 Documentation</title>
    <link rel="stylesheet" href="../_static/presto.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '310',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="12.138. Release 0.100" href="release-0.100.html" />
    <link rel="prev" title="12.136. Release 0.102" href="release-0.102.html" /> 
  </head>
  <body>
<div class="header">
    <h1 class="heading"><a href="../index.html">
        <span>Presto 310 Documentation</span></a></h1>
    <h2 class="heading"><span>12.137. Release 0.101</span></h2>
</div>
<div class="topnav">
    
<p class="nav">
    <span class="left">
        &laquo; <a href="release-0.102.html">12.136. Release 0.102</a>
    </span>
    <span class="right">
        <a href="release-0.100.html">12.138. Release 0.100</a> &raquo;
    </span>
</p>

</div>
<div class="content">
    
  <div class="section" id="release-0-101">
<h1>12.137. Release 0.101</h1>
<div class="section" id="general-changes">
<h2>General Changes</h2>
<ul class="simple">
<li>Add support for <a class="reference internal" href="../sql/create-table.html"><span class="doc">CREATE TABLE</span></a> (in addition to <a class="reference internal" href="../sql/create-table-as.html"><span class="doc">CREATE TABLE AS</span></a>).</li>
<li>Add <code class="docutils literal"><span class="pre">IF</span> <span class="pre">EXISTS</span></code> support to <a class="reference internal" href="../sql/drop-table.html"><span class="doc">DROP TABLE</span></a> and <a class="reference internal" href="../sql/drop-view.html"><span class="doc">DROP VIEW</span></a>.</li>
<li>Add <a class="reference internal" href="../functions/aggregate.html#array_agg" title="array_agg"><code class="xref py py-func docutils literal"><span class="pre">array_agg()</span></code></a> function.</li>
<li>Add <a class="reference internal" href="../functions/array.html#array_intersect" title="array_intersect"><code class="xref py py-func docutils literal"><span class="pre">array_intersect()</span></code></a> function.</li>
<li>Add <a class="reference internal" href="../functions/array.html#array_position" title="array_position"><code class="xref py py-func docutils literal"><span class="pre">array_position()</span></code></a> function.</li>
<li>Add <a class="reference internal" href="../functions/regexp.html#regexp_split" title="regexp_split"><code class="xref py py-func docutils literal"><span class="pre">regexp_split()</span></code></a> function.</li>
<li>Add support for <code class="docutils literal"><span class="pre">millisecond</span></code> to <a class="reference internal" href="../functions/datetime.html#date_diff" title="date_diff"><code class="xref py py-func docutils literal"><span class="pre">date_diff()</span></code></a> and <a class="reference internal" href="../functions/datetime.html#date_add" title="date_add"><code class="xref py py-func docutils literal"><span class="pre">date_add()</span></code></a>.</li>
<li>Fix excessive memory usage in <a class="reference internal" href="../functions/aggregate.html#map_agg" title="map_agg"><code class="xref py py-func docutils literal"><span class="pre">map_agg()</span></code></a>.</li>
<li>Fix excessive memory usage in queries that perform partitioned top-N operations
with <a class="reference internal" href="../functions/window.html#row_number" title="row_number"><code class="xref py py-func docutils literal"><span class="pre">row_number()</span></code></a>.</li>
<li>Optimize <a class="reference internal" href="../language/types.html#array-type"><span class="std std-ref">ARRAY</span></a> comparison operators.</li>
<li>Fix analysis of <code class="docutils literal"><span class="pre">UNION</span></code> queries for tables with hidden columns.</li>
<li>Fix <code class="docutils literal"><span class="pre">JOIN</span></code> associativity to be left-associative instead of right-associative.</li>
<li>Add <code class="docutils literal"><span class="pre">source</span></code> column to <code class="docutils literal"><span class="pre">runtime.queries</span></code> table in <a class="reference internal" href="../connector/system.html"><span class="doc">System Connector</span></a>.</li>
<li>Add <code class="docutils literal"><span class="pre">coordinator</span></code> column to <code class="docutils literal"><span class="pre">runtime.nodes</span></code> table in <a class="reference internal" href="../connector/system.html"><span class="doc">System Connector</span></a>.</li>
<li>Add <code class="docutils literal"><span class="pre">errorCode</span></code>, <code class="docutils literal"><span class="pre">errorName</span></code> and <code class="docutils literal"><span class="pre">errorType</span></code> to <code class="docutils literal"><span class="pre">error</span></code> object in REST API
(<code class="docutils literal"><span class="pre">errorCode</span></code> previously existed but was always zero).</li>
<li>Fix <code class="docutils literal"><span class="pre">DatabaseMetaData.getIdentifierQuoteString()</span></code> in JDBC driver.</li>
<li>Handle thread interruption in JDBC driver <code class="docutils literal"><span class="pre">ResultSet</span></code>.</li>
<li>Add <code class="docutils literal"><span class="pre">history</span></code> command and support for running previous commands via <code class="docutils literal"><span class="pre">!n</span></code> to the CLI.</li>
<li>Change Driver to make as much progress as possible before blocking.  This improves
responsiveness of some limit queries.</li>
<li>Add predicate push down support to JMX connector.</li>
<li>Add support for unary <code class="docutils literal"><span class="pre">PLUS</span></code> operator.</li>
<li>Improve scheduling speed by reducing lock contention.</li>
<li>Extend optimizer to understand physical properties such as local grouping and sorting.</li>
<li>Add support for streaming execution of window functions.</li>
<li>Make <code class="docutils literal"><span class="pre">UNION</span></code> run partitioned, if underlying plan is partitioned.</li>
<li>Add <code class="docutils literal"><span class="pre">hash_partition_count</span></code> session property to control hash partitions.</li>
</ul>
</div>
<div class="section" id="web-ui-changes">
<h2>Web UI Changes</h2>
<p>The main page of the web UI has been completely rewritten to use ReactJS. It also has
a number of new features, such as the ability to pause auto-refresh via the “Z” key and
also with a toggle in the UI.</p>
</div>
<div class="section" id="hive-changes">
<h2>Hive Changes</h2>
<ul class="simple">
<li>Add support for connecting to S3 using EC2 instance credentials.
This feature is enabled by default. To disable it, set
<code class="docutils literal"><span class="pre">hive.s3.use-instance-credentials=false</span></code> in your Hive catalog properties file.</li>
<li>Treat ORC files as splittable.</li>
<li>Change PrestoS3FileSystem to use lazy seeks, which improves ORC performance.</li>
<li>Fix ORC <code class="docutils literal"><span class="pre">DOUBLE</span></code> statistic for columns containing <code class="docutils literal"><span class="pre">NaN</span></code>.</li>
<li>Lower the Hive metadata refresh interval from two minutes to one second.</li>
<li>Invalidate Hive metadata cache for failed operations.</li>
<li>Support <code class="docutils literal"><span class="pre">s3a</span></code> file system scheme.</li>
<li>Fix discovery of splits to correctly backoff when the queue is full.</li>
<li>Add support for non-canonical Parquet structs.</li>
<li>Add support for accessing Parquet columns by name. By default, columns in Parquet
files are accessed by their ordinal position in the Hive table definition. To access
columns based on the names recorded in the Parquet file, set
<code class="docutils literal"><span class="pre">hive.parquet.use-column-names=true</span></code> in your Hive catalog properties file.</li>
<li>Add JMX stats to PrestoS3FileSystem.</li>
<li>Add <code class="docutils literal"><span class="pre">hive.recursive-directories</span></code> config option to recursively scan
partition directories for data.</li>
</ul>
</div>
<div class="section" id="spi-changes">
<h2>SPI Changes</h2>
<ul class="simple">
<li>Add connector callback for rollback of <code class="docutils literal"><span class="pre">INSERT</span></code> and <code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">AS</span></code>.</li>
<li>Introduce an abstraction for representing physical organizations of a table
and describing properties such as partitioning, grouping, predicate and columns.
<code class="docutils literal"><span class="pre">ConnectorPartition</span></code> and related interfaces are deprecated and will be removed
in a future version.</li>
<li>Rename <code class="docutils literal"><span class="pre">ConnectorColumnHandle</span></code> to <code class="docutils literal"><span class="pre">ColumnHandle</span></code>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a backwards incompatible change with the previous connector SPI.
If you have written a connector, you will need to update your code
before deploying this release.</p>
</div>
</div>
</div>


</div>
<div class="bottomnav">
    
<p class="nav">
    <span class="left">
        &laquo; <a href="release-0.102.html">12.136. Release 0.102</a>
    </span>
    <span class="right">
        <a href="release-0.100.html">12.138. Release 0.100</a> &raquo;
    </span>
</p>

</div>

    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>