
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>12.101. Release 0.137 &#8212; Presto 310 Documentation</title>
    <link rel="stylesheet" href="../static/presto.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '310',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="12.102. Release 0.136" href="release-0.136.html" />
    <link rel="prev" title="12.100. Release 0.138" href="release-0.138.html" /> 
  </head>
  <body>
<div class="header">
    <h1 class="heading"><a href="../index.html">
        <span>Presto 310 Documentation</span></a></h1>
    <h2 class="heading"><span>12.101. Release 0.137</span></h2>
</div>
<div class="topnav">
    
<p class="nav">
    <span class="left">
        &laquo; <a href="release-0.138.html">12.100. Release 0.138</a>
    </span>
    <span class="right">
        <a href="release-0.136.html">12.102. Release 0.136</a> &raquo;
    </span>
</p>

</div>
<div class="content">
    
  <div class="section" id="release-0-137">
<h1>12.101. Release 0.137</h1>
<div class="section" id="general-changes">
<h2>General Changes</h2>
<ul class="simple">
<li>Fix <code class="docutils literal"><span class="pre">current_date</span></code> to return correct results for all time zones.</li>
<li>Fix invalid plans when scalar subqueries use <code class="docutils literal"><span class="pre">GROUP</span> <span class="pre">BY</span></code>, <code class="docutils literal"><span class="pre">DISTINCT</span></code> or <code class="docutils literal"><span class="pre">JOIN</span></code>.</li>
<li>Do not allow creating views with a column type of <code class="docutils literal"><span class="pre">UNKNOWN</span></code>.</li>
<li>Improve expression optimizer to remove some redundant operations.</li>
<li>Add <a class="reference internal" href="../functions/bitwise.html#bit_count" title="bit_count"><code class="xref py py-func docutils literal"><span class="pre">bit_count()</span></code></a>, <a class="reference internal" href="../functions/bitwise.html#bitwise_not" title="bitwise_not"><code class="xref py py-func docutils literal"><span class="pre">bitwise_not()</span></code></a>, <a class="reference internal" href="../functions/bitwise.html#bitwise_and" title="bitwise_and"><code class="xref py py-func docutils literal"><span class="pre">bitwise_and()</span></code></a>,
<a class="reference internal" href="../functions/bitwise.html#bitwise_or" title="bitwise_or"><code class="xref py py-func docutils literal"><span class="pre">bitwise_or()</span></code></a>, and <a class="reference internal" href="../functions/bitwise.html#bitwise_xor" title="bitwise_xor"><code class="xref py py-func docutils literal"><span class="pre">bitwise_xor()</span></code></a> functions.</li>
<li>Add <a class="reference internal" href="../functions/aggregate.html#approx_distinct" title="approx_distinct"><code class="xref py py-func docutils literal"><span class="pre">approx_distinct()</span></code></a> aggregation support for <code class="docutils literal"><span class="pre">VARBINARY</span></code> input.</li>
<li>Add create time to query detail page in UI.</li>
<li>Add support for <code class="docutils literal"><span class="pre">VARCHAR(length)</span></code> type.</li>
<li>Track per-stage peak memory usage.</li>
<li>Allow using double input for <a class="reference internal" href="../functions/aggregate.html#approx_percentile" title="approx_percentile"><code class="xref py py-func docutils literal"><span class="pre">approx_percentile()</span></code></a> with an array of
percentiles.</li>
<li>Add API to JDBC driver to track query progress.</li>
</ul>
</div>
<div class="section" id="hive-changes">
<h2>Hive Changes</h2>
<ul class="simple">
<li>Do not allow inserting into tables when the Hive type does not match
the Presto type. Previously, Presto would insert data that did not
match the table or partition type and that data could not be read by
Hive. For example, Presto would write files containing <code class="docutils literal"><span class="pre">BIGINT</span></code>
data for a Hive column type of <code class="docutils literal"><span class="pre">INT</span></code>.</li>
<li>Add validation to <a class="reference internal" href="../sql/create-table.html"><span class="doc">CREATE TABLE</span></a> and <a class="reference internal" href="../sql/create-table-as.html"><span class="doc">CREATE TABLE AS</span></a>
to check that partition keys are the last columns in the table and in the same
order as the table properties.</li>
<li>Remove <code class="docutils literal"><span class="pre">retention_days</span></code> table property. This property is not used by Hive.</li>
<li>Fix Parquet decoding of <code class="docutils literal"><span class="pre">MAP</span></code> containing a null value.</li>
<li>Add support for accessing ORC columns by name. By default, columns in ORC
files are accessed by their ordinal position in the Hive table definition.
To access columns based on the names recorded in the ORC file, set
<code class="docutils literal"><span class="pre">hive.orc.use-column-names=true</span></code> in your Hive catalog properties file.</li>
</ul>
</div>
</div>


</div>
<div class="bottomnav">
    
<p class="nav">
    <span class="left">
        &laquo; <a href="release-0.138.html">12.100. Release 0.138</a>
    </span>
    <span class="right">
        <a href="release-0.136.html">12.102. Release 0.136</a> &raquo;
    </span>
</p>

</div>

    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>